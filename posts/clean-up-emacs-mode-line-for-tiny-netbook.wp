<html><body><p>Emacs's status bar is called the <a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Mode-Line-Format.html">mode-line</a>. </p> <p> It contains too much information for me because my screen is tiny (I use the netbook <a href="http://en.wikipedia.org/wiki/Asus_Eee_PC">Eee PC 701</a> whose LCD resolution is 800x480). </p> <p> For example, org-mode will append some information at the mode-line which is beyond my tiny screen. </p> <p> See <a href="http://emacs-fu.blogspot.com/2011/08/customizing-mode-line.html">customizing the mode-line</a> for the solution to clean up the mode-line. </p> <p> But there is one problem. The variable "global-mode-string" is missing in mode-line, so my favourite org-mode goodie "M-x org-timer-set-timer" won't work. </p> <p> Here is my fixed version. </p><ul> <li>screenshot </li> </ul>  <p><img src="http://blog.binchen.org/wp-content/uploads/2012/01/wpid-2012-01-14-034733-800x4802.png*" alt="http://blog.binchen.org/wp-content/uploads/2012/01/wpid-2012-01-14-034733-800x4802.png* "> </p><ul> <li>Elisp code </li> </ul>     <pre class="src src-elisp"><span style="color: #cd0000;">;; </span><span style="color: #cd0000;">@see http://emacs-fu.blogspot.com/2011/08/customizing-mode-line.html</span>
<span style="color: #cd0000;">;; </span><span style="color: #cd0000;">But I need global-mode-string,</span>

<span style="color: #cd0000;">;; </span><span style="color: #cd0000;">@see http://www.delorie.com/gnu/docs/elisp-manual-21/elisp_360.html</span>

<span style="color: #cd0000;">;; </span><span style="color: #cd0000;">use setq-default to set it for /all/ modes</span>

(setq-default mode-line-format
  (list
    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">the buffer name; the file name as a tool tip</span>
    '(<span style="color: #0000ee; font-weight: bold;">:eval</span> (propertize <span style="color: #00cd00;">"%b "</span> 'face 'font-lock-keyword-face
        'help-echo (buffer-file-name)))

    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">line and column</span>
    <span style="color: #00cd00;">"("</span> <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">'%02' to set to 2 chars at least; prevents flickering</span>
      (propertize <span style="color: #00cd00;">"%02l"</span> 'face 'font-lock-type-face) <span style="color: #00cd00;">","</span>
      (propertize <span style="color: #00cd00;">"%02c"</span> 'face 'font-lock-type-face)
    <span style="color: #00cd00;">") "</span>

    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">relative position, size of file</span>
    <span style="color: #00cd00;">"["</span>
    (propertize <span style="color: #00cd00;">"%p"</span> 'face 'font-lock-constant-face) <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">% above top</span>
    <span style="color: #00cd00;">"/"</span>
    (propertize <span style="color: #00cd00;">"%I"</span> 'face 'font-lock-constant-face) <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">size</span>
    <span style="color: #00cd00;">"] "</span>

    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">the current major mode for the buffer.</span>
    <span style="color: #00cd00;">"["</span>

    '(<span style="color: #0000ee; font-weight: bold;">:eval</span> (propertize <span style="color: #00cd00;">"%m"</span> 'face 'font-lock-string-face
              'help-echo buffer-file-coding-system))
    <span style="color: #00cd00;">"] "</span>



    <span style="color: #00cd00;">"["</span> <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">insert vs overwrite mode, input-method in a tooltip</span>
    '(<span style="color: #0000ee; font-weight: bold;">:eval</span> (propertize (<span style="color: #00cdcd; font-weight: bold;">if</span> overwrite-mode <span style="color: #00cd00;">"Ovr"</span> <span style="color: #00cd00;">"Ins"</span>)
              'face 'font-lock-preprocessor-face
              'help-echo (concat <span style="color: #00cd00;">"Buffer is in "</span>
                           (<span style="color: #00cdcd; font-weight: bold;">if</span> overwrite-mode <span style="color: #00cd00;">"overwrite"</span> <span style="color: #00cd00;">"insert"</span>) <span style="color: #00cd00;">" mode"</span>)))

    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">was this buffer modified since the last save?</span>
    '(<span style="color: #0000ee; font-weight: bold;">:eval</span> (<span style="color: #00cdcd; font-weight: bold;">when</span> (buffer-modified-p)
              (concat <span style="color: #00cd00;">","</span>  (propertize <span style="color: #00cd00;">"Mod"</span>
                             'face 'font-lock-warning-face
                             'help-echo <span style="color: #00cd00;">"Buffer has been modified"</span>))))

    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">is this buffer read-only?</span>
    '(<span style="color: #0000ee; font-weight: bold;">:eval</span> (<span style="color: #00cdcd; font-weight: bold;">when</span> buffer-read-only
              (concat <span style="color: #00cd00;">","</span>  (propertize <span style="color: #00cd00;">"RO"</span>
                             'face 'font-lock-type-face
                             'help-echo <span style="color: #00cd00;">"Buffer is read-only"</span>))))
    <span style="color: #00cd00;">"] "</span>

    <span style="color: #cd0000;">;;</span><span style="color: #cd0000;">global-mode-string, org-timer-set-timer in org-mode need this</span>
    (propertize <span style="color: #00cd00;">"%M"</span> 'face 'font-lock-type-face)

    <span style="color: #00cd00;">" --"</span>
    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">i don't want to see minor-modes; but if you want, uncomment this:</span>
    <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">minor-mode-alist  ;; list of minor modes</span>
    <span style="color: #00cd00;">"%-"</span> <span style="color: #cd0000;">;; </span><span style="color: #cd0000;">fill with '-'</span>
    ))
</pre>  </body></html>