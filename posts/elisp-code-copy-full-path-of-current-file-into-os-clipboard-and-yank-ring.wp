<html><body><p>Copy below code into ~/.emacs. The hot keys is "C-x v f": </p>   <pre class="src src-elisp"><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">you need install xsel under Linux</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">xclip has some problem when copying under Linux</span>

(<span style="color: #b5bd68;">defun</span> <span style="color: #81a2be;">copy-yank-str</span> (msg)
  (kill-new msg)
  (<span style="color: #b5bd68;">with-temp-buffer</span>
    (insert msg)
    (shell-command-on-region (point-min) (point-max)
                             (<span style="color: #b5bd68;">cond</span>
                              ((eq system-type 'cygwin) <span style="color: #8abeb7;">"putclip"</span>)
                              ((eq system-type 'darwin) <span style="color: #8abeb7;">"pbcopy"</span>)
                              (t <span style="color: #8abeb7;">"xsel -ib"</span>)
                              ))))


(<span style="color: #b5bd68;">defun</span> <span style="color: #81a2be;">copy-full-path-of-current-buffer</span> ()
  <span style="color: #b294bb;">"copy full path into the yank ring and OS clipboard"</span>
  (interactive)
  (<span style="color: #b5bd68;">when</span> buffer-file-name
    (kill-new (file-truename buffer-file-name))
    (copy-yank-str (file-truename buffer-file-name))
    (message <span style="color: #8abeb7;">"full path of current buffer =&gt; clipboard &amp; yank ring"</span>)
    ))


(global-set-key (kbd <span style="color: #8abeb7;">"C-x v f"</span>) 'copy-full-path-of-current-buffer)

</pre>  </body></html>