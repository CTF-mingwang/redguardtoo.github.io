<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Linux, Programming, Emacs">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 14) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.binchen.org/index-14.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><style type="text/css">
td, th {
 border: 1px solid #CCC;
}
th {
 background: #DFDFDF;
 font-weight: bold;
}
td {
 background: #FAFAFA;
 text-align: center;
}
tr:nth-child(even) td { background: #F1F1F1; }
tr:nth-child(odd) td { background: #FEFEFE; }
</style>
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-flyspell-in-web-mode.html">How to use flyspell in web-mode</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-22T05:54:00+00:00">2013-10-22 05:54</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/how-to-use-flyspell-in-web-mode.html#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-flyspell-in-web-mode.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Insert below code into your ~/.emacs and you are good to go: </p>   
<pre class="prettyprint lang-lisp">
(defun web-mode-flyspefll-verify ()
  (let ((f (get-text-property (- (point) 1) 'face)))
    (not (memq f '(web-mode-html-attr-value-face
                   web-mode-html-tag-face
                   web-mode-html-attr-name-face
                   web-mode-doctype-face
                   web-mode-keyword-face
                   web-mode-function-name-face
                   web-mode-variable-name-face
                   web-mode-css-property-name-face
                   web-mode-css-selector-face
                   web-mode-css-color-face
                   web-mode-type-face
                   )
               ))))
(put 'web-mode 'flyspell-mode-predicate 'web-mode-flyspefll-verify)

(add-hook 'web-mode-hook
          (lambda ()
            (flyspell-mode 1)
            ))
</pre>

<p></p>
<p> Screen shot: <img src="wp-content/uploads/2013/10/wpid-web-mode-flyspell-nq8.png" alt="http://blog.binchen.org/wp-content/uploads/2013/10/wpid-web-mode-flyspell-nq8.png"></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/suan-miao-chao-niu-rou-zuo-fa.html">蒜苗炒牛肉做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-19T19:53:00+00:00">2013-10-19 19:53</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/suan-miao-chao-niu-rou-zuo-fa.html#disqus_thread" data-disqus-identifier="cache/posts/suan-miao-chao-niu-rou-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/beef.html" rel="tag">beef</a></li>
           <li><a class="tag p-category" href="categories/cuisine.html" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/garlic.html" rel="tag">garlic</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<ul>
<li>
<a href="http://www.xinshipu.com/%E7%89%9B%E8%82%89%E7%82%92%E8%92%9C%E8%8B%97-83979.htm">菜谱</a> </li> <li>甜面酱本身带盐了 </li> <li>蒜苗可以大火快炒,更嫩一点 </li> </ul>
<p> <img src="wp-content/uploads/2013/10/wpid-stir-fried-beef-and-garlic-stem1.jpg" alt="lightbox"></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-use-git-effectively.html">How to use git effectively</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-11T09:38:00+00:00">2013-10-11 09:38</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/how-to-use-git-effectively.html#disqus_thread" data-disqus-identifier="cache/posts/how-to-use-git-effectively.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/bash.html" rel="tag">bash</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/git.html" rel="tag">git</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>To take the full power of git, you need forget GUI and use CLI only. A little knowledge of script language like Bash/Perl/Python may be helpful. </p> <p> Here is an example how I use git. </p>  <div id="outline-container-1" class="outline-3"> <h4 id="sec-1">Problem</h4> <div class="outline-text-3" id="text-1">  <p>I'm working for a big enterprise project which uses git as version control software.  My daily routine is find what files I changed. So I often use git commands with "–stat" paramters. </p>    
<pre class="prettyprint ">

git show --stat

git diff --cached --stat

git log --stat

git diff --stat
</pre>

<p></p>
<p> Since I use CLI git in bash shell only. I set alias for these commands in bash. For example, I need only type <code>gds</code> in bash instead of "git diff –stat". </p> <p> Git commands with "–stat" option usually only display relative paths, so I write some bash function which enable me select that relative path interactively (without using mouse, of course), convert that path to absolute path, and copy that absolute path into clipboard. </p> <p> Getting full path into clipboard is useful because in big projects I need do lots of communication with managers and colleagues. For example, I need list files I changed in our bug tracking system (JIRA) and also email them by using Outlook. If you still don't understand why it's hard in big project, let me give you some hint. Big project is usually a big shit. Say you will edit file A, you will find another 10 files distributed in different location with <b>same file name</b> and <b>similar code</b>. Those another 10 files are not your business and if you dare touch them, you need deal with another 10 managers from ten teams. </p> </div>  </div>  <div id="outline-container-2" class="outline-3"> <h4 id="sec-2">Set up</h4> <div class="outline-text-3" id="text-2">  <p>Now you understand the problme. Here comes the solution. </p> <p> Step 1, You need install percol by <code>sudo pip install percol</code>. Percol will provide some interactive UI to help you select the line in shell. </p> <p> Step 2, install xsel or xclip under Linux to support paste text into X clipboard. BTW, you did install some clipboard manager under Linux, didn't you? </p> <p> Step 3, insert below code into your ~/.bash: </p>   
<pre class="prettyprint ">

# search the file and pop up dialog, then put the full path in clipboard



function pclip() {
    if [ $OS_NAME == CYGWIN ]; then
        putclip $@;
    elif [ $OS_NAME == Darwin ]; then
        pbcopy $@;
    else
        if [ -x /usr/bin/xsel ]; then
            xsel -ib $@;
        else
            if [ -x /usr/bin/xclip ]; then
                xclip -selection c $@;
            else
                echo "Neither xsel or xclip is installed!"
            fi
        fi
    fi
}



function glsf () {
    local str=`git --no-pager log --oneline --decorate --stat $* |percol`
    if [[ $str =~ ^[[:space:]]*([a-z0-9A-Z_.\/-]*).*$ ]]; then
        echo -n ${BASH_REMATCH[1]} |pclip;
        echo ${BASH_REMATCH[1]}
    fi
}



function ff()

{
    # @see http://stackoverflow.com/questions/13373249/extract-substring-using-regexp-in-plain-bash
    local fullpath=$*
    local filename=${fullpath##*/}
    local filter=${fullpath##*./}
    #  only the filename without path is needed
    # filename should be reasonable
    local cli=`find $PWD -type f -iname '*'${filename}'*'|grep ${filter}|percol`
    echo ${cli}
    echo -n ${cli} |pclip;
}
</pre>

<p></p>
</div>  </div>  <div id="outline-container-3" class="outline-3"> <h4 id="sec-3">Usage</h4> <div class="outline-text-3" id="text-3">     
<pre class="prettyprint ">

glsf

ff line-from-clipboard

# now I can paste the full path into firefox, outlook ...
</pre>

<p></p>
<p> Here is the screen cast: <img src="https://dl.dropboxusercontent.com/u/858862/screencast/git-find-full-path.gif" alt="https://dl.dropboxusercontent.com/u/858862/screencast/git-find-full-path.gif"></p>
</div> </div> </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/san-wen-yu-dun-dou-fu-zuo-fa.html">三文鱼炖豆腐做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-10-02T21:15:00+00:00">2013-10-02 21:15</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/san-wen-yu-dun-dou-fu-zuo-fa.html#disqus_thread" data-disqus-identifier="cache/posts/san-wen-yu-dun-dou-fu-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/cuisine.html" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/salmon.html" rel="tag">salmon</a></li>
           <li><a class="tag p-category" href="categories/soup.html" rel="tag">soup</a></li>
           <li><a class="tag p-category" href="categories/toufu.html" rel="tag">toufu</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<ul>
<li>
<a href="http://blog.sina.com.cn/s/blog_4cc524d50102dzgv.html">菜谱, 全文如下</a> </li> </ul>
<pre class="example">用料:
三文鱼、老豆腐、面粉、黑胡椒粒、甜椒、葱、
<p>大蒜、姜、松子、香菜、盐、老抽、生抽、糖。</p>
<p>做法：</p>
<p>1: 三文鱼去掉鱼骨，拔出鱼刺，和豆腐切成大小相仿的小块，</p>
<p>并用厨房纸巾稍稍擦干水份，三文鱼块里撒入适量的黑胡椒粒，</p>
<p>放入2勺面粉稍微裹以下;</p>
<p>鱼炖豆腐好吃2字诀-三文鱼炖豆腐</p>
<p>2: 其他材料备好;</p>
<p>鱼炖豆腐好吃2字诀-三文鱼炖豆腐</p>
<p>3: 锅底用姜片擦一遍，放入姜片、三文鱼2面煎黄取出，</p>
<p>再放入豆腐块煎黄;</p>
<p>鱼炖豆腐好吃2字诀-三文鱼炖豆腐</p>
<p>4: 倒入适量老抽上色，生抽、盐、糖、大蒜调味，</p>
<p>一次性倒入足量的开水，大火煮开，中火炖至快干;</p>
<p>鱼炖豆腐好吃2字诀-三文鱼炖豆腐</p>
<p>5: 放入甜椒块翻炒一下，撒入松子、香菜段即可起锅。</p>
<p>鱼炖豆腐好吃2字诀-三文鱼炖豆腐</p>
<p>小牛贴心提示：</p>
<p>1：炖豆腐和鱼，想要好吃，关键要时间，</p>
<p>即是老话所说"千滚的豆腐万滚的鱼";</p>
<p>2：鱼块裹面粉、生姜擦锅都能防止鱼不沾锅;</p>
<p>3：一次性加入足量的开水，中途不要频繁加水。</p>
<p></p></pre>  <ul>
<li>生抽至少两大勺,我放得太少 </li> <li>炖得时候我放水太少,一开始就要多放,至少半大碗水 </li> <li>鱼和豆腐煎的黄一点,一开始用纸吸干水份较好,否则油到处溅 </li> <li>老抽没有了,所以颜色很难看 </li> <li>诀窍1,黑胡椒之类的辛香料都是油炸过后才更香 </li> <li>诀窍2,如果做汤的话,鱼和豆腐炖的时间越长越好吃,也有营养 </li> </ul>
<p> <a href="http://www.meishij.net/zuofa/sanwenyudoufutang.html">另附有三文鱼豆腐汤</a>的做法 </p> <p> <img src="wp-content/uploads/2013/10/wpid-salmon-dun-doufu.jpg" alt="http://blog.binchen.org/wp-content/uploads/2013/10/wpid-salmon-dun-doufu.jpg"></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard.html">Copy file name or full path of file from Emacs dired buffer into system clipboard</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-25T20:46:00+00:00">2013-09-25 20:46</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard.html#disqus_thread" data-disqus-identifier="cache/posts/copy-file-name-or-full-path-of-file-in-emacs-dired-buffer-into-system-clipboard.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/clipboard.html" rel="tag">clipboard</a></li>
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Simple, insert below code into your ~/.emacs: </p>   
<pre class="prettyprint ">

;; {{ copy the file-name/full-path in dired buffer into clipboard

;; `w` =&gt; copy file name

;; `C-u 0 w` =&gt; copy full path

(defadvice dired-copy-filename-as-kill (after dired-filename-to-clipboard activate)
  (with-temp-buffer
    (insert (current-kill 0))
    (shell-command-on-region (point-min) (point-max)
                             (cond
                              ((eq system-type 'cygwin) "putclip")
                              ((eq system-type 'darwin) "pbcopy")
                              (t "xsel -ib")
                              )))
  (message "%s =&gt; clipboard" (current-kill 0))
  )
</pre>

<p></p>
<p> It support Cygwin and OSX out of the box. You need install xsel under Linux. </p> <p> BTW, I suggest installing a clipboard manager like parcellite under Linux to sync the two X clipboards. </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/fan-qie-ji-dan-tang-zuo-fa.html">番茄鸡蛋汤做法</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-25T19:54:19+00:00">2013-09-25 19:54</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/fan-qie-ji-dan-tang-zuo-fa.html#disqus_thread" data-disqus-identifier="cache/posts/fan-qie-ji-dan-tang-zuo-fa.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/cuisine.html" rel="tag">cuisine</a></li>
           <li><a class="tag p-category" href="categories/soup.html" rel="tag">soup</a></li>
           <li><a class="tag p-category" href="categories/zh.html" rel="tag">zh</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<ul>
<li>放蒜(可以加姜,葱)大火爆炒,也可以加点老抽 </li> <li>放入番茄超出茄红素 </li> <li>加水煮,调味放盐糖 </li> <li>最后放入打碎鸡蛋,五秒钟后起锅 </li> </ul>
<p>有人介绍下面也是类似原理,加葱花老抽爆炒,然后放水煮面 </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/matthew-keeler-video-tutorial-on-org-mode-in-emacs.html">Matthew Keeler video tutorial on org-mode in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-23T20:21:25+00:00">2013-09-23 20:21</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/matthew-keeler-video-tutorial-on-org-mode-in-emacs.html#disqus_thread" data-disqus-identifier="cache/posts/matthew-keeler-video-tutorial-on-org-mode-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/org.html" rel="tag">org</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>At <a href="https://www.youtube.com/watch?feature=player_detailpage&amp;v=lsYdK0C2RvQ#t=308">4:57</a> it becomes interesting. </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/one-liner-to-load-m3u-into-mpd.html">One liner to load m3u into mpd</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-23T20:01:37+00:00">2013-09-23 20:01</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/one-liner-to-load-m3u-into-mpd.html#disqus_thread" data-disqus-identifier="cache/posts/one-liner-to-load-m3u-into-mpd.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/mpd.html" rel="tag">mpd</a></li>
           <li><a class="tag p-category" href="categories/music.html" rel="tag">music</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p></p>
<pre class="prettyprint ">
<p>mpc clear;ln -s ~/Music/all.m3u ~/.mpd/playlists/all.m3u;mpc load all;mpc update;mpc shuffle;mpc play;
</p></pre>
<p></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/toggle-full-view-of-window-in-emacs.html">Toggle full view of window in Emacs</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-14T12:56:00+00:00">2013-09-14 12:56</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/toggle-full-view-of-window-in-emacs.html#disqus_thread" data-disqus-identifier="cache/posts/toggle-full-view-of-window-in-emacs.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Add below code into your ~/.emacs: </p>   
<pre class="prettyprint ">

(defun toggle-full-window()
  "Toggle the full view of selected window"
  (interactive)
  ;; @see http://www.gnu.org/software/emacs/manual/html_node/elisp/Splitting-Windows.html
  (if (window-parent)
      (delete-other-windows)
    (winner-undo)
    ))
</pre>

<p></p>
<p> I use <a href="http://www.emacswiki.org/emacs/Evil">evil</a>, so I assign hot key ",ff" to <code>toggle-full-window</code>. </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/the-minimum-packages-to-install-for-front-end-development-on-linux.html">The minimum packages to install for front end development on Linux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2013-09-09T15:05:31+00:00">2013-09-09 15:05</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/the-minimum-packages-to-install-for-front-end-development-on-linux.html#disqus_thread" data-disqus-identifier="cache/posts/the-minimum-packages-to-install-for-front-end-development-on-linux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
           <li><a class="tag p-category" href="categories/programming.html" rel="tag">programming</a></li>
           <li><a class="tag p-category" href="categories/web.html" rel="tag">web</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p></p>
<pre class="prettyprint ">
<p>sudo apt-get install ack git emacs24-nox feh i3 xsel ctags vim scrot xbindkeys dunst unclutter parcellite gimp
</p></pre>
<p></p>
</div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-15.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-13.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2016         <a href="mailto:chenbin.sh@gmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script type="text/javascript">
</script><script type="text/javascript">

</script><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
