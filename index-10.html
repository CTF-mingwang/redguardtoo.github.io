<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Linux, Programming, Emacs">
<meta name="viewport" content="width=device-width">
<title>Chen's blog (old posts, page 10) | Chen's blog</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="http://blog.binchen.org/index-10.html">
<!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->
</head>
<body>
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="stories/about.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="https://twitter.com/chen_bin" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/redguardtoo" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
            
        <div class="post">
            <h1 class="title"><a href="posts/notes-on-set-up-nfs-on-archlinux.html">Notes on set up nfs on ArchLinux</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-02-07T17:24:09+00:00">2014-02-07 17:24</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/notes-on-set-up-nfs-on-archlinux.html#disqus_thread" data-disqus-identifier="cache/posts/notes-on-set-up-nfs-on-archlinux.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/archlinux.html" rel="tag">archlinux</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<div id="outline-container-1" class="outline-3"> <h4 id="sec-1">Key points</h4> <div class="outline-text-3" id="text-1">  <ul>
<li>see <a href="http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-nfs-server-config-exports.html">Redhat documenation</a>, best doc on exportfs </li> <li>
<a href="http://superuser.com/questions/492989/understanding-subnet-mask">Understanding Subnet mask</a> and <a href="http://superuser.com/questions/186850/what-are-the-essentials-of-a-subnet-mask">essential Subnet mask</a> </li> <li>
<code>sudo exportfs -r</code> to reload /etc/exports </li> <li>
<code>sudo exportfs -v</code> to see current nfs exports </li> <li>content of /etc/exports: </li> </ul>
<pre class="prettyprint ">

/srv/nfs4/z 192.168.0.0/16(ro,insecure,no_subtree_check)
</pre>

<p></p>
<ul>
<li>check <a href="http://alephnull.com/benchmarks/sata2012/nfsv4.html">optimizatioin tips</a> </li> <li>
<code>man 5 exports</code> for the documentation of /etc/exports </li> <li>
<a href="https://www.serverstack.com/blog/2012/11/21/debugging-nfs-file-access-on-server-and-client-side/">Debugging NFS File Access on Server and Client Side</a> </li> </ul>
<pre class="prettyprint ">

# turn on the log

sudo rpcdebug -m nfsd -s proc

# turn off the log
</pre>

<p></p>
<ul>
<li>then <code>sudo tail -f /var/log/messages.log</code> </li> <li>Basically you need <code>sudo systemctl enable syslog-ng.service</code> to enable system log before you use rpcdebug </li> </ul>
</div>  </div>  <div id="outline-container-2" class="outline-3"> <h4 id="sec-2">Summary</h4> <div class="outline-text-3" id="text-2">  <p>On server side: </p>   
<pre class="prettyprint ">

sudo exportfs

# got output like:

# /srv/nfs4/z   192.168.0.0/16
</pre>

<p></p>
<p> Then on client side: </p>   
<pre class="prettyprint ">

# 131072 is 128K

sudo mount 192.168.1.9:/srv/nfs4/z ~/z -o rsize=131072,wsize=131072,noatime,nodiratime,intr
</pre>

<p></p>
</div> </div> </div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/git-merge-in-command-line.html">Git merge in command line</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-01-28T16:53:00+00:00">2014-01-28 16:53</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/git-merge-in-command-line.html#disqus_thread" data-disqus-identifier="cache/posts/git-merge-in-command-line.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/git.html" rel="tag">git</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>List and filter all the files need resolve conflict, then apply certain git operation on them: </p>   
<pre class="prettyprint ">

git diff --name-only --diff-filter=U|grep "\.html\|\.min\.js"|xargs -I{} sh -c "git checkout --theirs {} &amp;&amp; git add {}"
</pre>

<p></p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/switch-input-method-in-evil-mode.html">Switch input method in evil-mode (在Evil中快速切换输入法)</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-01-27T22:12:22+00:00">2014-01-27 22:12</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/switch-input-method-in-evil-mode.html#disqus_thread" data-disqus-identifier="cache/posts/switch-input-method-in-evil-mode.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/emacs.html" rel="tag">emacs</a></li>
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>I need toggle on input method to input Chinese (or any other language) in Emacs. The default hot key is "C-\" which corresponds the command "toggle-input-method". </p> <p> My problem is since I'm using <a href="http://www.emacswiki.org/emacs/Evil">evil-mode</a> (a Vim simulation), I need switch evil state from "normal" to "insert" before toggling on input method. </p> <p> That extra step is not necessary if you insert below code into ~/.emacs: </p>    
<pre class="prettyprint ">

(defun evil-toggle-input-method ()
  "when toggle on input method, switch to evil-insert-state if possible.
when toggle off input method, switch to evil-normal-state if current state is evil-insert-state"
  (interactive)
  (if (not current-input-method)
      (if (not (string= evil-state "insert"))
          (evil-insert-state))
    (if (string= evil-state "insert")
        (evil-normal-state)
        ))
  (toggle-input-method))


(global-set-key (kbd "C-\\") 'evil-toggle-input-method)
</pre>

<p></p>
<p> BTW, I strongly recommend the Chinese input method <a href="https://github.com/wenbinye/emacs-eim">eim</a> written in pure elisp. </p> <p> Emacs中切换其自带输入法的快捷键是"C-\",对应的命令是"toggle-input-method". </p> <p> 我遇到的问题是如果使用<a href="http://www.emacswiki.org/emacs/Evil">Evil</a>(一种Vim模拟)则切换输入法不方便.我需要先切换evil-state至insert,然后才能切换输入法. </p> <p> 只要将以上代码贴入~/.emacs,则切换输入法可以更加高效: </p> <p> 顺便提一下,<a href="https://github.com/wenbinye/emacs-eim">eim</a>是我强烈推荐的中文输入法.  </p>
</div>
            </div>
        </div>
        <div class="post">
            <h1 class="title"><a href="posts/how-to-execute-user-program-for-system-v-init-script.html">How to execute user program for System V init script</a></h1>
            <div class="meta">
                <div class="authordate">
                    <time class="timeago" datetime="2014-01-18T09:37:10+00:00">2014-01-18 09:37</time>
</div>
                <div class="stats">
                    
        
    <a href="posts/how-to-execute-user-program-for-system-v-init-script.html#disqus_thread" data-disqus-identifier="cache/posts/how-to-execute-user-program-for-system-v-init-script.html">Comments</a>


                </div>
            
        <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="categories/en.html" rel="tag">en</a></li>
           <li><a class="tag p-category" href="categories/init.html" rel="tag">init</a></li>
           <li><a class="tag p-category" href="categories/linux.html" rel="tag">linux</a></li>
        </ul>
</div>

            </div>
            <div class="body">
                <div>
<p></p>
<p>Memo for my self. </p>   
<pre class="prettyprint ">

sudo ls -1 /etc/{rc,init}.d/|grep local

# then read the file either rc.local or local
</pre>

<p></p>
</div>
            </div>
        </div>
    
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-9.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="chenbin0";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2018         <a href="mailto:chenbin.sh@gmail.com">Chen Bin</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    </section><script src="assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
         document.addEventListener('DOMContentLoaded', function() {
           var items = document.getElementsByClassName('timeago'), e, pd;
           for (var i = 0; i < items.length; i++) {
             e = items[i];
             pd = moment(new Date(e.getAttribute('datetime')));
             e.innerHTML = pd.fromNow();
             e.setAttribute('title', pd.format('LLLL'));
           }
         });
        </script>
</body>
</html>
